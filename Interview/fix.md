# 环境
## redis：
### 持久化 
持久化方式：
AOF持久化以及RDB持久化。
    ```
        AOF：
            持久化设置的每秒
        RDB
            开启满足条件持久化，exp：多少秒内插入多少条数据即持久化
    ```
## 云平台
    ```
        功能插件化
    ```
## 重构
Linux下搭建Hyperf环境，手动编译安装PHP，PHP安装Redis，Swoole等扩展。模块化服务，为后续分布式部署做准备。
## 不同之处
    ```
    1、ThinkPHP是传统FPM模式，Hyperf是cli常驻内存模式。
    2、Hyperf需要手动启动。 php bin/hyperf.php start
    3、路由可以还可以通过注解的方式注入
    ```
## 数据库
在编写项目中自己也写了个创建Model层的方法。

## 项目
权限，角色分配权限。
```
    用户id与用户组，多对一，实现权限分配
    用户组包含菜单id，多对多
    菜单表包含菜单的层级关系名称以及路由，区分B端与C端
    以及插件表...

    云端保存用户的站点信息，以及站点对应的插件信息，登陆时，本地插件与云端插件做交集，保证安全性。
    登陆时，前端传加密后的账号密码，后端得到数据之后，根据约定的加密方式解密。同时把获取到的密码与当前账号的salt做md5，比较密码。验证成功返回token以及相关信息，并在redis中存储以token为键的数据。
    自动登录 存在于local storage,有就带着token去请求用户详细，然后访问redis里面的这个key，存在返回数据。
```